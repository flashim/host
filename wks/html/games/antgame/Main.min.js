function init(){canvas=document.getElementById("canvas");images=images||{};var e=[{src:"images/bg.jpg",id:"bg"},{id:"incorrect",src:"sounds/boorongsound.mp3"},{id:"correct",src:"sounds/tingtingfinal.mp3"},{id:"welldoneSnd",src:"sounds/Welldonecopy.mp3"}];var t=new createjs.LoadQueue(false);t.installPlugin(createjs.Sound);t.addEventListener("fileload",handleFileLoad);t.addEventListener("complete",handleComplete);t.loadManifest(e)}function handleFileLoad(e){if(e.item.type=="image"){images[e.item.id]=e.result}}function handleComplete(){exportRoot=new lib.assets;stage=new createjs.Stage(canvas);stage.enableMouseOver(20);stage.addChild(exportRoot);stage.update();createjs.Ticker.setFPS(24);createjs.Ticker.addEventListener("tick",stage);initGame()}function playSound(e,t){createjs.Sound.play(e,createjs.Sound.INTERRUPT_EARLY,0,0,false)}function initGame(){currPos=0;pathArray=[1,3,7,6,11,10,16,17,18,23,22,21,25,26,27,30];btnNumbers=[40,67,49,46,63,52,43,34,85,55,61,66,73,79,58,64,58,67,52,50,79,85,76,82,88,97,91,79,89,100];ant=new lib.AntAnim;stage.addChild(ant);exportRoot.welldone.visible=false;exportRoot.mcStart.on("click",onStartClick);exportRoot.mcStart.mouseChildren=false;initBtns();configClickListeners(false)}function onStartClick(e){e.target.removeAllEventListeners();e.target.visible=false;configClickListeners(true);exportRoot.mcAnt.gotoAndStop("r0")}function initBtns(){for(var e=1;e<31;e++){obj=exportRoot["mcBtn"+e];obj.id=e;obj.clicked=false;obj.name="mcBtn"+e;obj.tt.text=btnNumbers[e-1];configClickListener(obj,true);obj.mouseChildren=false}}function configClickListener(e,t){if(t){e.on("mouseover",onBtnOver);e.on("mouseout",onBtnOut);e.on("click",onBtnClick);e.cursor="pointer"}else{e.cursor=null;e.removeAllEventListeners()}}function configClickListeners(e){for(var t=1;t<31;t++){obj=exportRoot["mcBtn"+t];if(!obj.clicked)configClickListener(obj,e)}}function onBtnClick(e){console.log("currPos "+currPos);if(e.target.id==pathArray[currPos]){playSound("correct");e.target.gotoAndStop(0);e.target.clicked=true;configClickListener(e.target,false);++currPos;exportRoot.mcAnt.gotoAndStop("r"+currPos);if(e.target.id==30){exportRoot.mcAnt.play();exportRoot.mcFinish.visible=false;configClickListeners(false);delayCall(GameEnd,14e3)}}else{configClickListeners(false);e.target.gotoAndStop(2);playSound("incorrect");startTimer(e.target)}}function onBtnOver(e){e.target.gotoAndStop(1)}function onBtnOut(e){e.target.gotoAndStop(0)}function GameEnd(){exportRoot.welldone.visible=true;playSound("welldoneSnd")}function startTimer(e){timeoutID=window.setTimeout(callFunc,2e3,e)}function clearTimer(){window.clearTimeout(timeoutID)}function callFunc(e){clearTimer();configClickListeners(true);e.gotoAndStop(0)}function delayCall(e,t){timeoutID=window.setTimeout(e,t)}var canvas,stage,exportRoot;var currPos,pathArray,btnNumbers;var ant;var obj;var timeoutID